<link rel="import" href="bower_components/polymer/polymer.html">

<dom-module id="mk-i18n-config">
  <template>
    
  </template>  
</dom-module>
<script type="text/javascript" src="js/i18next-1.9.0.js"></script>
<script type="text/javascript" src="js/mk-i18n.js"></script>
<script>
(function(){
  Polymer({
      is: 'mk-i18n-config',
      properties: {
        language: {
          type: String,
          notify: true,
          observer: '_languageChanged'
        }
      },
      _languageChanged: function(value) {
        console.log('Change lang ' + value);
        
        i18n.setLng(value, function(t) {
          mki18n.notify();
        });
      },
      ready: function() {
        this.language = this.language || navigator.language || navigator.userLanguage;
        i18n.init({
          lang: this.language,
          fallbackLng: 'en'
        });
      }
    });
})();
</script>